<!-- header -->
<ng-content *ngTemplateOutlet="bar"></ng-content>
<div
  *ngIf="($isAtTop | async) !== true && ($isScrollingUp | async)"
  class="fixed top-0 left-0 w-full z-20 animate-slidedown"
>
  <ng-content *ngTemplateOutlet="bar"></ng-content>
</div>

<ng-template #bar>
  <div class="bar" [class.stickyBar]="($isAtTop | async) !== true">
    <div class="whitespace-nowrap">
      <button routerLink="/" class="flex flex-row items-center gap-2">
        <mat-icon
          *ngIf="($isAtTop | async) === true; else tealIcon"
          svgIcon="fullstack-white"
          class="fullstackIcon bg-teal-500 border-[3px] border-teal-500"
        ></mat-icon>
        <ng-template #tealIcon>
          <mat-icon
            svgIcon="fullstack-white-outline"
            class="fullstackIcon border-[3px] border-white"
          ></mat-icon>
        </ng-template>
        <h1 class="title" [class.stickyTitle]="($isAtTop | async) !== true">
          {{ title }}
        </h1>
      </button>
    </div>

    <div class="nav-group items-center">
      <button
        [class.nav-item]="tab.url !== router.url"
        [class.current]="tab.url === router.url"
        [class.currentSticky]="
          tab.url === router.url && ($isAtTop | async) !== true
        "
        *ngFor="let tab of tabs"
        [routerLink]="tab.url"
        [disabled]="tab.url === router.url"
      >
        <mat-icon>{{ tab.icon }}</mat-icon>
        {{ tab.title }}
      </button>
      <a
        mat-icon-button
        href="https://www.linkedin.com/in/zachary-lovagi-646546172/"
        target="_blank"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="1em"
          height="1em"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"
          />
        </svg>
      </a>
    </div>
    <div class="visible lg:hidden">
      <button mat-icon-button [matMenuTriggerFor]="menu">
        <mat-icon>menu</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button
          class="hover:animate-bounce"
          mat-menu-item
          *ngFor="let tab of tabs"
          [routerLink]="tab.url"
        >
          <mat-icon>{{ tab.icon }}</mat-icon>
          <span [class.underline]="tab.url === router.url">
            {{ tab.title }}
          </span>
        </button>
      </mat-menu>
    </div>
  </div>
</ng-template>
